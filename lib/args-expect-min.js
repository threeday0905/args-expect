!function(a){"use strict";function b(a){function c(a,c){function d(b,d,g){var h=[b].concat(g);c.apply(null,h)||f.reject(e.get(a,d,b,h[1]))}return function(){var a=g.call(arguments),c=f.obj;if(b.isEnable)if(f.multiArg&&c.length)for(var e=0,h=c.length;h>e;e++)d(c[e],"",a);else d(c,f.name,a);return f}}var f=this;for(var h in d)this[h]=c(h,d[h]);this.reject=function(b){return this.rejected||(this.rejected=!0,d.isFunction(a)&&a(b)),this},this.start=function(a,b){return this.multiArg=this.rejected=!1,this.name=b||"",this.obj=a,this},this.all=function(){return this.start(g.call(arguments)),this.multiArg=!0,this}}function c(){return h(f.generate())}var d=function(){function a(a){d["is"+a]=function(b){return f.call(b)==="[object "+a+"]"}}function b(a){if(d.isNull(a))return"Null";if(a.name)return a.name;var b=/function (.+)\(/.exec(String(a));return b?b[1]:""}function c(a){return d["is"+a]}var d={},e=Object.prototype,f=e.toString,g=e.hasOwnProperty;return a("Arguments"),a("Function"),a("String"),a("Number"),a("Date"),a("RegExp"),d.isArguments(arguments)||(d.isArguments=function(a){return!(!a||!g.call(a,"callee"))}),d.isElement=function(a){return!(!a||1!==a.nodeType)},d.isObject=function(a){return a===Object(a)},Array.isArray?d.isArray=Array.isArray:a("Array"),"function"!=typeof/./&&(d.isFunction=function(a){return"function"==typeof a}),d.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"===f.call(a)},d.isEmpty=function(a){return d.isNull(a)?!0:d.isArray(a)||d.isString(a)?0===a.length:!1},d.isNull=function(a){return null===a||void 0===a},d.notNull=function(a){return!d.isNull(a)},d.notEmpty=function(a){return!d.isEmpty(a)},d.is=function(a){for(var e=arguments,f=1,g=e.length;g>f;f++){var h=e[f],i=c(b(h));if(i&&i(a))return!0;if(d.isFunction(h)&&a instanceof h)return!0}return!1},d.has=function(a,b){var c,e,f=!0;if(d.isString(b))return d.notNull(a[b]);if(d.isArray(b)){for(c=b.length;c--;)if(d.isString(b[c])&&!a[b[c]]){f=!1;break}}else if(d.isObject(b)){for(c in b)if(e=b[c],!a[c]||!d.is(a[c],e)){f=!1;break}}else f=!1;return f},d.equalTo=function(a,b){return a===b},d}(),e={prefix:"Not Expected! ",defMsg:'{0} failed condition: {1} with "{2}"',msgs:{is:"{0} is not match expected type",has:"{0} does not have expected properties",equalTo:"{0} is not equal to {3}"},get:function(a,b,c,d){var e=this.msgs[a]||this.defMsg;return e=e.replace(/\{0\}/,b||"arg").replace(/\{1\}/,a+"()").replace(/\{2\}/,c?c.toString():"").replace(/\{3\}/,d?d:""),this.prefix+e}},f={methods:{"throw":function(a){throw new Error(a)},log:function(a){console&&console.log&&console.log(a)},none:function(){}},generate:function(a){var b,c=this.methods;return d.isString(a)?(b=c[a],b||(c.log("can not find the reject method: "+a),b=c.none)):b=d.isFunction(a)?a:c["throw"],b}},g=Array.prototype.slice;b.isEnable=!0,b.enable=function(){b.isEnable=!0},b.disable=function(){b.isEnable=!1};var h=function(a){var c=new b(a),e=function(a,b){return c.start(a,b)};return e.all=function(){var a=arguments;return 1===a.length&&d.isArguments(a[0])&&(a=a[0]),c.all.apply(c,a)},e.mode=function(a){return h(f.generate(a))},e.enable=function(){return b.enable(),this},e.disable=function(){return b.disable(),this},e};"object"==typeof exports?module.exports=c():a.KISSY&&"function"==typeof a.KISSY.add?KISSY.add(c):"function"==typeof a.define&&a.define.amd?a.define(c):a.expect=c()}(this);